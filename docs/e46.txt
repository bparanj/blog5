

1

Create a few products using the scaffold generated code.

2
 
rails g controller catch_all index
 
3

class CatchAllController < ApplicationController
  def index
    render text: params.inspect
  end
end

4

get '*path', to: 'catch_all#index'

5

Browse to http://localhost:3000/tele 

6

In the browser:

http://localhost:3000/tele

"catch_all", "action"=>"index", "path"=>"tele"} permitted: false>

http://localhost:3000/tele/mundo

"catch_all", "action"=>"index", "path"=>"tele/mundo"} permitted: false>

7

http://localhost:3000/tele/mundo?l=10

 {"l"=>"10", "path"=>"tele/mundo"}


8

request.request_uri is no longer available in Rails 5. The last version of Rails 3.0.9 had this method.

    render text: request.url
	
9

Reload the page: http://localhost:3000/tele/mundo/manga


Browser output: http://localhost:3000/tele/mundo/manga

http://localhost:3000/tele/mundo/manga?q=test

http://localhost:3000/tele/mundo/manga?q=test

10

class CatchAllController < ApplicationController
  def index
    product = Product.where('name LIKE ?', "#{params[:path].first}%").first
    
    redirect_to product_path(product)
  end
end


http://localhost:3000/tele

You will go to the television product show page.